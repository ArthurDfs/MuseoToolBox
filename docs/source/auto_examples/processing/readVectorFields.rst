.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_processing_readVectorFields.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_processing_readVectorFields.py:


Read fields from vector
======================================================

This example shows how to read fields values from
a vector file.

Import librairies
-------------------


.. code-block:: default


    import museotoolbox as mtb







Load HistoricalMap dataset
----------------------------


.. code-block:: default


    raster,vector = mtb.datasets.load_historical_data(low_res=True)







.. note::
   If you have no memories on what the fields name are, simply put the vector path


.. code-block:: default


    try : 
        mtb.processing.read_vector_values(vector)
    except Exception as e:
        print(e)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    These fields are available : ['Class', 'Type', 'uniquefid']


Read values from field 'Class'
--------------------------------


.. code-block:: default


    Y,Name = mtb.processing.read_vector_values(vector,'Class','Type')
    print(Y,Name)
    print(Y.shape)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    [1 1 1 1 2 2 2 1 1 2 4 5 4 5 3 3 3] ['Forest' 'Forest' 'Forest' 'Forest' 'Agriculture' 'Agriculture'
     'Agriculture' 'Forest' 'Forest' 'Agriculture' 'Water' 'Buildings' 'Water'
     'Buildings' 'Soil' 'Soil' 'Soil']
    (17,)


Read values from field beginning with 'C'
-------------------------------------------
As multiple fields can begin with C, function returns a column per field


.. code-block:: default


    C = mtb.processing.read_vector_values(vector,band_prefix='C')
    print(C)
    print(C.shape)






.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    [[1]
     [1]
     [1]
     [1]
     [2]
     [2]
     [2]
     [1]
     [1]
     [2]
     [4]
     [5]
     [4]
     [5]
     [3]
     [3]
     [3]]
    (17, 1)



.. code-block:: default


    from matplotlib import pyplot as plt
    import numpy as np
    plt.title('Number of polygons per label')
    plt.bar(np.arange(np.unique(Y).size)+1,np.unique(Y,return_counts=True)[1])



.. image:: /auto_examples/processing/images/sphx_glr_readVectorFields_001.png
    :class: sphx-glr-single-img





.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.137 seconds)


.. _sphx_glr_download_auto_examples_processing_readVectorFields.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: readVectorFields.py <readVectorFields.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: readVectorFields.ipynb <readVectorFields.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
