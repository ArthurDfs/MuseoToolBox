.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_stats_qualityIndexFromConfusionMatrix.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_stats_qualityIndexFromConfusionMatrix.py:


Compute quality index from confusion matrix
===============================================================

Compute different quality index  (OA, Kappa and F1) directly
from confusion matrix.


Import librairies
-------------------------------------------


.. code-block:: default

    import numpy as np
    from museotoolbox.stats import retrieve_y_from_confusion_matrix
    from museotoolbox.charts import PlotConfusionMatrix
    from sklearn.metrics import accuracy_score,cohen_kappa_score






Create a random confusion matrix
-------------------------------------------


.. code-block:: default


    confusion_matrix = np.random.randint(1,30,size=[6,6])
    confusion_matrix[range(6),range(6)] += 40
    print('Total number of pixels : '+str(np.sum(confusion_matrix)))

    PlotConfusionMatrix(confusion_matrix).add_text()




.. image:: /auto_examples/stats/images/sphx_glr_qualityIndexFromConfusionMatrix_001.png
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Total number of pixels : 720


Generate index from the confusion matrix


.. code-block:: default


    yp,yt = retrieve_y_from_confusion_matrix(confusion_matrix)







show quality


.. code-block:: default

    print('OA is : '+str(accuracy_score(yp,yt)))
    print('Kappa is : '+str(cohen_kappa_score(yp,yt)))



.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    OA is : 0.45416666666666666
    Kappa is : 0.3472558957122722



.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.171 seconds)


.. _sphx_glr_download_auto_examples_stats_qualityIndexFromConfusionMatrix.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: qualityIndexFromConfusionMatrix.py <qualityIndexFromConfusionMatrix.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: qualityIndexFromConfusionMatrix.ipynb <qualityIndexFromConfusionMatrix.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
